<!DOCTYPE html>
<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
</head>

<body>
<script>
let n = 2;

let x = [];
let xs = [];
let xa = [];

let sizex = window.innerWidth;
let sizey = window.innerHeight;

function ga(x1,y1,x2,y2){

gravr=sqrt((x2-x1)**2+(y2-y1)**2)
gravax=(Math.sqrt(gravr**2-(y2-y1)**2))/(gravr**3)
gravay=(Math.sqrt(gravr**2-(x2-x1)**2))/(gravr**3)
if(x2-x1<0){gravax=-gravax};
if(y2-y1<0){gravay=-gravay};
gravArr =[gravax*300,gravay*300]
return gravArr ;

};

for(let i = 0; i < 2*n; i++) {


  xa.push(0);
};

x=[200,200,280,280];
xs=[1,0,-1,0];
function setup() {

  createCanvas(sizex, sizey);
  noStroke();
  background(70,100,200);
}

function draw() {
fill(70,100,200,2);
rect(0, 0, sizex, sizey);

for(i=0;i<n;i++){
  xa[i]=ga()[(-1)**i];
};

xa[0]=ga(x[0],x[1],x[2],x[3])[0];
xa[1]=ga(x[0],x[1],x[2],x[3])[1];
xa[2]=ga(x[2],x[3],x[0],x[1])[0];
xa[3]=ga(x[2],x[3],x[0],x[1])[1];


for(i=0;i<2*n;i++){xs[i]=xs[i]+xa[i]};
for(i=0;i<2*n;i++){x[i]=x[i]+xs[i]};
fill(255,255,255);

for(i=0;i<n;i++){ellipse(x[2*i], x[2*i+1], 1, 1);};

}

</script>


</body>
</html>
