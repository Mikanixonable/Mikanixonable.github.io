<!DOCTYPE html>
<html>
<head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.5.0/p5.js"></script>
</head>

<body>
<script>
let x = [200,100,265,120];
let xs = [0.1,0,0.2,0];
let xa = [0,0,0,0];
let r = [0,0];
let diameter = 2;
function setup() {
  createCanvas(400, 400);
  noStroke();
}

function draw() {
fill(256, 7);
rect(0, 0, width, height);
fill(0,0,0);
for(i=0;i<2;i++){r[i] = Math.sqrt((200-x[2*i])**2+(200-x[2*i+1])**2)};

for(i=0;i<2;i++){

xa[2*i] = (Math.sqrt(r[i]**2-(200 - x[2*i+1])**2))/(r[i]**3)*6
xa[2*i+1] = (Math.sqrt(r[i]**2-(200 - x[2*i])**2))/(r[i]**3)*6
if(x[2*i]>200){xa[2*i]=-xa[2*i]};
if(x[2*i+1]>200){xa[2*i+1]=-xa[2*i+1]};

if(r[i]<2){xa[2*i]=0;xa[2*i+1]=0};
};


for(i=0;i<4;i++){xs[i]=xs[i]+xa[i]};
for(i=0;i<4;i++){x[i]=x[i]+xs[i]};


ellipse(x[0], x[1], diameter, diameter);
ellipse(x[2], x[3], diameter, diameter);
ellipse(200, 200, 6, 6);
}

</script>


</body>
</html>
