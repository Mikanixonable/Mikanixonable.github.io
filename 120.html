<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  body {
    background-color: #181921;
    color: white;
  }

  div {
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
  }
</style>

<body>
  <div>
    <img src="logo.png" width="20%" />
    <p>
      2016年ごろから、インターネット上で「みかぶる」と名乗り、絵や音楽や小説などを投稿しています。言及されると喜びます。
    </p>
  </div>
  <!-- <script>
    let audio = null;
    let lastPlayed = null;
    function ring(filePath) {
      if (!audio) {
        audio = new Audio(filePath);
        audio.play();
        lastPlayed = filePath
        // 音声を再生
      } else if (!audio.paused) {
        if (lastPlayed == filePath) {
          audio.pause()
          audio = null
        } else {
          audio.pause()
          audio = new Audio(filePath);
          audio.play();
        }
     
      }
      audio.addEventListener("ended", (event) => { audio = null; console.log("end") });
    }
    // 音声が再生中の場合、停止
  </script> -->

  <script>
    let audio = null;
    let lastPlayed = null;
    let dic = {}
    function ring(filePath) {
      if (!audio) {
        audio = new Audio(filePath);
        audio.play();
        dic[filePath] = "playing"

        // 音声を再生
      } else if (!audio.paused) {
        if (lastPlayed == filePath) {
          audio.pause()
          audio = null
        } else {
          audio.pause()
          audio = new Audio(filePath);
          audio.play();
        }
     
      }
      audio.addEventListener("ended", (event) => { audio = null; console.log("end") });
    }
    // 音声が再生中の場合、停止
  </script>


  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('1.mp3')">ミクボタン</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('2.mp3')">ねう</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('3.mp3')">Mazurek Dąbrowskiego</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('4.mp3')">ねこ</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('5.mp3')">ねこねこ</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('6.mp3')">ミクボタン</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('7.mp3')">ミクボタン</button>
  <button style="background-color: #47848b;color: white;border-radius: 1em;border-width: 0;"
    onclick="ring('8.mp3')">ミクボタン</button>

<br>
<script>
const audioElements = {};
function btn(filePath, button) {
  if (!audioElements[filePath]) {
      // 新しい音声ファイルを再生
      audioElements[filePath] = new Audio(filePath);
      audioElements[filePath].play();
      button.classList.add('playing'); // ボタンのスタイルを変更

      // 音声再生終了時のイベントハンドラを設定
      audioElements[filePath].addEventListener('ended', function() {
          button.classList.remove('playing'); // ボタンのスタイルを元に戻す
          delete audioElements[filePath]; // オブジェクトから削除
      });} else {
      // 既存の音声ファイルを停止
      audioElements[filePath].pause();
      audioElements[filePath].currentTime = 0; // 音声を最初から再生できるようにリセット
      delete audioElements[filePath]; // オブジェクトから削除
      button.classList.remove('playing'); // ボタンのスタイルを元に戻す
  }}
</script>
<style>

button{
  background-color: #47848b;
  color: white;
  border-radius: 1em;border-width: 0;
  &:hover {
    background-color: #4d9fa9;
  }
  &.playing {
    background-color: #14656e; /* 再生中のボタンの背景色を変更 */
  }
}

</style>
<button onclick="btn('1.mp3', this)">ミクボタン</button>
<button onclick="btn('2.mp3', this)">ねう</button>
<button onclick="btn('3.mp3', this)">Mazurek Dąbrowskiego</button>
<button onclick="btn('4.mp3', this)">ねこーっ</button>
<button onclick="btn('5.mp3', this)">ねこねこ</button>
<button onclick="btn('6.mp3', this)">にゃう</button>
<button onclick="btn('7.mp3', this)">ぬい~</button>
<button onclick="btn('8.mp3', this)">pikopiko tune</button>
<button onclick="btn('9.mp3', this)">ambient</button>
<button onclick="btn('10.mp3', this)">warabimochi</button>
<button onclick="btn('11.mp3', this)">ambient</button>
<button onclick="btn('12.mp3', this)">warabimochi</button>
</body>

</html>