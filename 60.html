<html>

<head>

  <title>イラストランダム表示</title>
  <meta content="描いたイラストをボタンをおすごとにランダムに表示する" genre="illust">
</head>
<style>
  body {
    display: flex;
    background: #456;
    color: #DDD;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    padding: 1em;
  }

  .button {
    color: #DDD;
    font-size: 200%;
    background-color: #567;
    border: 0px;
  }

  a {
    color: #6AD;
  }
</style>

<body>

  <script>
    let range = [-205, 531]

    let url = new URL(window.location.href);
    let n = url.searchParams.get("n");

    function dice(range){
      return Math.floor(Math.random() * (-range[0] + range[1] + 1) + range[0])
    }
    if (!n) {
      let works = -range[0] + range[1]
      n = dice(range)
      url.searchParams.append('n', n);
      location.href = url
    }

    let imgPath = "illusts/" + n + ".png";
    document.write("<big><big><big><big>" + n + "</big></big></big></big><br>");
    document.write("<img src=" + imgPath + " height = 80%><br>");
    document.write("<big><big>link: <a href=" + imgPath + ">" + imgPath + "</a></big></big><br>");

    function button() {
      let k = Math.floor(Math.random() * (range[1] - range[0]) + range[0]);
      window.history.replaceState(null, null, '?n=' + k);
      window.location.reload();
    }

  </script>

  <input type="button" class="button" style="width:15em;height:3em;" value="シャッフル" onclick="
	button()">


</body>

</html>