<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>音声再生ボタン</title>

</head>
<body>
<style>
.playing {
    background-color: #00bfff; /* 再生中のボタンの背景色を変更 */
}
</style>
<button onclick="btn('1.mp3', this)">再生/停止 1</button>
<button onclick="btn('2.mp3', this)">再生/停止 2</button>
<button onclick="btn('3.mp3', this)">再生/停止 3</button>

<script>
    const audioElements = {};
    function btn(filePath, button) {
        if (!audioElements[filePath]) {
            // 新しい音声ファイルを再生
            audioElements[filePath] = new Audio(filePath);
            audioElements[filePath].play();
            button.classList.add('playing'); // ボタンのスタイルを変更

            // 音声再生終了時のイベントハンドラを設定
            audioElements[filePath].addEventListener('ended', function() {
                button.classList.remove('playing'); // ボタンのスタイルを元に戻す
                delete audioElements[filePath]; // オブジェクトから削除
            });} else {
            // 既存の音声ファイルを停止
            audioElements[filePath].pause();
            audioElements[filePath].currentTime = 0; // 音声を最初から再生できるようにリセット
            delete audioElements[filePath]; // オブジェクトから削除
            button.classList.remove('playing'); // ボタンのスタイルを元に戻す
        }}
</script>
</body>
</html>
